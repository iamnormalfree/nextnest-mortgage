# NextNest Environment Configuration
# Copy this file to .env.local and update with your actual values

# ================================
# Chatwoot Configuration
# ================================
# Your Chatwoot instance URL (without trailing slash)
CHATWOOT_BASE_URL=https://chat.nextnest.sg

# API token from Chatwoot Super Admin dashboard
CHATWOOT_API_TOKEN=api_xxxxxxxxxxxxx

# Account ID from Chatwoot
CHATWOOT_ACCOUNT_ID=1

# Inbox ID for website channel
CHATWOOT_INBOX_ID=1

# Website token from inbox settings
CHATWOOT_WEBSITE_TOKEN=xxxxxxxxxxxxx

# Public Chatwoot URL for widget
NEXT_PUBLIC_CHATWOOT_CHAT_URL=https://chat.nextnest.sg

# ================================
# Security Configuration
# ================================
# Encryption key for sensitive data (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=xxxxxxxxxxxxx

# Enable audit logging for PDPA compliance
AUDIT_LOG_ENABLED=true

# ================================
# Feature Flags
# ================================
# Enable/disable chat transition feature
ENABLE_CHAT_TRANSITION=true

# Fallback contact methods when chat is unavailable
CHAT_FALLBACK_PHONE=+6583341445
CHAT_FALLBACK_EMAIL=assist@nextnest.sg

# Enable AI broker features
ENABLE_AI_BROKER=true
\r\n
# Enable analytics tracking
ENABLE_ANALYTICS=true

# Use intelligent form on landing (set to false to show simple contact form)
NEXT_PUBLIC_USE_INTELLIGENT_FORM=true

# ================================
# Monitoring & Observability
# ================================
# Langfuse Configuration (Analytics)
LANGFUSE_PUBLIC_KEY=pk_xxxxx
LANGFUSE_SECRET_KEY=sk_xxxxx
LANGFUSE_BASE_URL=https://analytics.nextnest.sg

# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Datadog API key for APM (optional)
DATADOG_API_KEY=xxxxxxxxxxxxx

# ================================
# Circuit Breaker Configuration
# ================================
# Number of failures before circuit opens
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Timeout in milliseconds before circuit resets
CIRCUIT_BREAKER_TIMEOUT=60000

# Current circuit breaker state (managed by system)
CIRCUIT_BREAKER_STATE=CLOSED

# ================================
# API Configuration
# ================================
# Base URL for the application
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# API rate limiting (requests per minute)
API_RATE_LIMIT=100

# API timeout in milliseconds
API_TIMEOUT=30000

# ================================
# Development Settings
# ================================
# Node environment (development/production)
NODE_ENV=development

# Enable debug logging
DEBUG=true

# Mock Chatwoot responses (for testing without real instance)
MOCK_CHATWOOT=false

# ================================
# Compliance & Legal
# ================================
# PDPA compliance mode
PDPA_COMPLIANCE_MODE=strict

# Data retention period in days
DATA_RETENTION_DAYS=90

# ================================
# Notes:
# ================================
# 1. Never commit .env.local to version control
# 2. Keep this example file updated with new variables
# 3. Use strong, unique values for all secrets
# 4. Rotate API keys and tokens regularly
# 5. Different values may be needed for staging/production

